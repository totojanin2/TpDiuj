@model TpIntegradorDiuj.Models.Balance
@using TpIntegradorDiuj.Models
@{
    ViewBag.Title = "Cargar balance";
    List<SelectListItem> listEmpresas = new List<SelectListItem>();
    List<SelectListItem> _listEmpresas = ViewBag.Empresas as List<SelectListItem>;
    listEmpresas.AddRange(_listEmpresas);

}

<script>
    function agregarCuenta(){
        var cantRows = $(".cuentasTable > tbody.cuerpo > tr").length;
        var tr = '<tr>';
        tr += '<td><input type="text" class=form-control name="Cuentas[' + cantRows + '].Nombre" required/></td>';
        tr += '<td><input type="text" class=form-control name="Cuentas[' + cantRows + '].Valor" required/></td><td></td>';
        tr += '</tr>';
        $(".cuentasTable > tbody.cuerpo").append(tr);
    };
  


</script>
@Html.ValidationSummary()
<h2>Cargar balance</h2>
    <div class="col-md-5 col-md-offset-1">
        <form method="post" action="@Url.Action("Create","Balances")">
            <div class="form-group">
                <label>Empresa</label>
                @Html.DropDownList("Empresa_Id", listEmpresas, "Seleccione empresa..", new { @required="true", @id="selectEmpresas" , @class = "form-control"})
             </div>
            <label>Periodo</label>
            <div class="form-group" id="nuevoPer">
                <input type="number" class="form-control" name="Periodo" id="inputPer" required/>
            </div>
           
            <div>
                <h4>Cuentas</h4>
                <table  class="cuentasTable table-condensed table-bordered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Valor</th>
                            <th></th>
                        </tr>
                    </thead>
                  
                    <tbody class="cuerpo">
                       
                    </tbody>
                    <tr>
                        <td></td>
                        <td></td>
                        <td><a href="#" onclick="agregarCuenta()" value="+" id="agregarCuenta"> +</a></td>
                    </tr>
                </table>
            </div>
            <br />
            <input type="submit" class="btn btn-primary" value="Guardar" />
    </form>
</div>
   
